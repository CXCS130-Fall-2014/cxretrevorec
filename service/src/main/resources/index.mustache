<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Product Test</title>
	<link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css" />
	<link rel="shortcut icon" href="http://img01.shopzilla-images.com/s2static/us/sz/1b0e6c52/sz2/common/images/shopzilla.ico" />
</head>
<body>

<!-- GET METHOD -->
<div>
    <div class="row-fluid">
        <div class="span5">

            <h2>Get Product</h2>
            <form name="get_product">

                <label for="productId">Product Id</label>
                <input id="productId" name="productId" value="7581359">
                <br><br>
                <input type="submit" name="fetch" value="Fetch">
            </form>
        </div>
    </div>
    <div id="get_service_call" style="display:none;"><a href="#">link</a></div>
    <div id="get_results" style="width:100%;"/>
</div>

<script type="text/javascript" src="/assets/jquery-1.9.1.min.js"></script>
<script type="text/javascript" charset="utf-8">
jQuery(document).ready(function() {
    $("form[name='get_product']").submit(function(e) {
        e.preventDefault();

        var productId = $("input[name='productId']", $(this)).val();

        var get_url = "/services/product/v1/product/productId/" + productId + "?format=json";
        $("#get_service_call a").attr('href', get_url).text(get_url).parent().show();
        $.ajax({
            url: get_url,
            success:function(r) {
                var output = "The product id is " + r.productEntry[0].productId +" and it's category is " + r.productEntry[0].productCategory + " and the name is " + r.productEntry[0].productName + "."; 
                $("#get_results").html("<pre>" + output + "</pre>");
            }
        });
    });

});
</script>

<!--GET REVIEWS METHOD-->
<div>
    <div class="row-fluid">
        <div class="span5">

            <h2>Get Reviews</h2>
            <form name="get_review">

                <label for="pid">Pid</label>
                <input id="pid" name="pid" value="4198654574">
                <br><br>
                <input type="submit" name="fetch" value="Fetch">
            </form>
        </div>
    </div>
    <div id="get_review_service_call" style="display:none;"><a href="#">link</a></div>
    <div id="get_review_results" style="width:100%;"/>
</div>

<script type="text/javascript" src="/assets/jquery-1.9.1.min.js"></script>
<script type="text/javascript" charset="utf-8">
jQuery(document).ready(function() {
    $("form[name='get_review']").submit(function(e) {
        e.preventDefault();

        var pid = $("input[name='pid']", $(this)).val();

        var get_url = "/services/product/v1/review/pid/" + pid + "?format=json";
        $("#get_review_service_call a").attr('href', get_url).text(get_url).parent().show();
        $.ajax({
            url: get_url,
            success:function(r) {
                var output = "The review's pid is " + r.reviewEntry[0].pid +" and it's title is " + r.reviewEntry[0].title + " and the rating is " + r.reviewEntry[0].rating + " and the comment is " + r.reviewEntry[0].comment + "."; 
                $("#get_review_results").html("<pre>" + output + "</pre>");
            }
        });
    });

});
</script>

<!-- CREATE METHOD -->

<div>
    <div class="row-fluid">
        <div class="span5">

            <h2>Create Product</h2>
            <form name="create_product">

                <label for="productId">Product Id</label>
                <input id="productId" name="productId" value="1">

                <label for="productName">Product Name</label>
                <input id="productName" name="productName" value="">

                <label for="productCategory">Product Category</label>
                <input id="productCategory" name="productCategory" value="">

                <br><br>
                <input type="submit" name="fetch" value="Create">
            </form>
        </div>
    </div>
    <div id="create_service_call" style="display:none;"><a href="#">link</a></div>
    <div id="create_results" style="width:100%;"/>
</div>

<script type="text/javascript" src="/assets/jquery-1.9.1.min.js"></script>
<script type="text/javascript" charset="utf-8">
    jQuery(document).ready(function() {
     $("form[name='create_product']").submit(function(e) {
         e.preventDefault();

         var productId = $("input[name='productId']", $(this)).val(),
             productName = $("input[name='productName']", $(this)).val(),
             productCategory = $("input[name='productCategory']", $(this)).val();

         var productEntry = new Object();
         productEntry.productId = productId;
         productEntry.productName = productName;
         productEntry.productCategory = productCategory;

         var entryString = JSON.stringify(productEntry);

         var create_url = "/services/product/v1/product/create?format=json";
         $("#create_service_call a").attr('href', create_url).text(create_url).parent().show();
         $.ajax({
             url: create_url,
             type: "POST",
             contentType: 'application/json',
             data: entryString,
             success:function(e) {
                 $("#create_results").html("<pre>" + JSON.stringify(e,null, 4) + "</pre>");
             }
         });
     });

    });
</script>

</div>
</body>
</html>
